in terra ecosystem, 1 dollar of luna can be burned to mint only 1 ust and 1 ust always be burned to mint 1 dollar worth of luna.

- if ust is trading at 1.50. if you hold luna, you can burn 1 dollar of luna to mint 1.5 half ust and sell this ust and buy another stable coin. result is an instant 50 percent profit. this will increase ust supply and add sell pressure for ust. this also creates a buy pressure for luna. You buy luna to mint ust.

- if ust is trading at 50 cent, you could burn 1 ust and buy 1 dollar worth of Luna. this reduction in ust supply combine with the buying pressure for ust will bring ust's peg back up to 1 dollar.

HERE IS THE CATCH
When ust goes under 1 dollar, there is a huge incentive for traders to buy that ust, burn it to mint luna and sell that luna for instant profit. In order to get profit, THAT NEWLY MINTED LUNA MUST BE IMMETIATELY SOLD. when crypto market is on rise, this process is not a problem.

But when the marked is declining, this process is a problem. Becasue there is much speculative demand for luna, that means its price is going down while it is aggresively sold by ust holders. This makes price fall even further and causes panic amongst ust holders and

## SENIORAGE

ON TERRA, minting ust by burning luna costs a small fee in Luna, this is called `seniorage`. For along time seniorage fees went to terra's community's treasury. After a while the size of terra's community treasury has grown so large, terra community voted to burn all seniorage fees as part of the Lambos 5 upgrade last september. this community decided to burn 89 million dollars worth of luna to mint 4.5 billion of ust in november.

to make ust more accessible, it was bridged other cryptocurrencies. when ust was bridged to other blockchains, some kind of liquidy minint rewards almost always involved. Anyone who used ust in defi protocols in other cryptos blockchains would earn additional cryptocurrency , luna, ust or some other currency. these additional rewards created alot of demand for ust. this pushed the price over 1 dollar peg. this incentivize market buyers to buy and burn luna to mint ust. this caused ust's market cap grow exponentially but also caused luna's price to increase exponentially. Because luna's supply gradullay reduced. while demand for luna is increasing and number of lunas felt in circulation increased the price rapidly. this dynamic is why some claim luna is a ponzi but similar dynamic exist with all other assets.

Although lost of demand for ust was coming from defi protocols offering liquidity rewards, the overwhelming majority of demand for ust was coming from single defi protocol on the terra blockchain called Anchor protocol. It almost held the 80 percent all the ust in circulation.

## Anchor Protocol

Biggest mistake was to let all investors to withdraw anytime.

it was famous for offering stable interest rate of 20 percent per year on ust. this suspiciously high rate led many people to accuse anchor protocol to be ponzi. this does not seem to be case when you consider how exactly anchor protocol work.

Imagine a bank is offering 5 percent interest on saving. If a rich guy comes in deposit 100 bilion dollar, he will get 5 billion in a year. if a poor guy deposits 100 dollar, he will make 5 dollars. But the bank has a special deal for him. For a limited time we will give you 20 percent. How the bank will make this 20 percent. Just take 20 dollars from 5 billion dollars interest and add it to the poor's money. Because interest earned by rick guy is so massive, the bank can afford to five 20 percent to many of poor blocks. The only thing the bank must convince the rich guy to let the protocol redirect his 5 billions cash pile to others. The bank offers the rich shares to vote how bank operates and promise to use the portions of all the interest generated by the bank to purchase more shares to keep the price high.

Rich guy would deposit staked terra, stakes atoms from cosmos, staked sol from solana, staked avax from avalance, even staked eth from ethereum. all the staked rewards for the rich folk would be converted to ust by the anchor protocol and then this ust be given to poor folks who are depositing the ust to earn 20 percent per year. if the rich folk's interest 5 billion exceeded to provide poor folks, the rest would be converted to ust and deposited into the anchor protosol's yield reserve which will be used to keep poor folks when there arent enoguh rich folks around.

So rich folk would get ANC token which is used for governance and a portion of anchor protocol's yield reserves would be used to buy anc to ensure that its price increased along with the popularity of the protocol. In practise there are many more poor folks than there are rich folks. another workds, staking rewards were coming from proof of staking crytocurrencies provided by the rich folk was not enough to continue for paying 20 percent. and results yield reserves drained rather than filled. meanwhile they were planning to fill these reserves coming from entities tied to terra.

## Luna foundation Guard LFG

Singapoeran non-profit that coordinates terra's development. another role is to ensure ust's peg remains stable at all costs. they were buying billions of btc to protect ust's peg.

the last ust's depegging caused by the abracadabra defi protocol. which makes it possible to mint another decentralized stable coin called magic internet money, MIM using interest bearing tokens as collateral. Ust was one of the tokens could be deposited into the abracadabra to mint MIM specifially a ust which is an interest bearing token given to ust holders as a sort of receipt as their ust when they deposit their ust into the anchor protocol. some defi genius (plural of genius) come with a clever strategy called `degen box`. you deposit a ust into the abracadabra to mint mim and use the mim to buy ust, deposit ust into anchor protocol to get `Aust`, deposit that `aust` to abracadabra so on until you have lots of yield. this is extremely risky because if `mim` or `aust` deviates from its peg by even just a couple percentage points, the entire scheme could collapse quickly.

one of the developers in abracadabra was the cofounder of `QuadrifaCX` canadian exchange which collapsed other its cofounder died while on holiday in india. since ust was used in too many defi protocols and this would be a risk to collapse, that is why lfg plan to use btc to protect ust's peg.

## LFG Btc accumulation

They got funds from three arrows, jump crypt and other investors to buy 1 billion dollars of btc which was financed by the over the counter sales of lfg's luna holdings. Buy up enough btc to back 20 percent of ust's circulating supply and then use terra's aferomentioned seniorage fees to automatically purchase additonal btcs everytime someone burns luna to mint ust. as of now senorage fees was burnt.

By that time, they need 3 billion dollar worht of btc.

if ust was significantly below 1 dollar, rational market participants would swap their one dollar ust to get 1 dollar btc. this would add sell pressure on luna and create death spiral.

In april, binance added support for anchor protocol making it possible for its 30 million customers to earn high stable yield on anchor protocol.
do kwons plan was to purchase cryptocurrencies that available on defi protocols wheer ust was being used. for example they bought 200 million dollar of avax

lfg finnaly achieved its goal to back up 20 percent of ust on thursday may 5 by selling lunas otc.

Collapse begain on satuday may 7.

on 7th of may, terra team withdrew a massive amount of ust from curve finance. terra withdrew all usts from curve dao, to prepare four pool. while they withdrew all ust, unknown whale(they already knew that terra would draw its money) sold around 85 million ust for 85 million usdc curve finance. this pushed ust slighly below its peg. there is a speculation that there is another 200 millions dollars of was simultaneously sold on binance. this pushed ust is below its peg. since the market was shitty, whoever holds ust starts to sell ust. Celcius ceo said they pulled all their assets from anchor. 9 biliion of 14 billions of ust in anchor protocol withdrawn in 48hours. this made people burn 1 ust and but 1 dollar of luna and sell it immediately. luna's price was already crashing along with the rest of the market.

when luna's market cap went under ust's market cap, luna entered in a death spirral. more luna would be minted while its prices was redicing to ashes. ?????????

Ust is fundamentally representaion of the potential sell pressure on luna. If `UST`s market cap is larger than `luna`s then it cannot absorb the sell pressure from ust. That means it is going to zero.

In this case, an attackeer could manipulate the governance proposals that people were trying to pass to stop the bleeding. A low luna price made it also easy for a malicious actor to become a validator and manipulate transactions.

Left with no other options, terra validators agreed to halt the chain for a while to buy some time. after they restarted they halted again this time for mint mechanism disabled. `LFG` was selling btc on the spot market. 80.000 btc was sold.

Another speculation, The whale who sold ust on CRV and binance, shorted btc

Traditional finance wanted the regulation on crypto so they might done it.

## Anchor protocol:

launched in march 2021.

- staking is locking up the crypto for certain time. In proof of stake, validaters stake crypto to process transactions on that crypto's blockchain. In exchange, they earn transaction fees and block rewards. Validaters on terra, stake luna and earn about 9 percent per year. Terra validators must lock up their luna for atleast 21 day. If they try and manipulate transactions, they will lose some of their stake in a process known as `SLASHING`.

Staking is also possible in many defi protocols. Rather than earning transaction fees and block rewards, Defi stakers earn protocol fees and right to participate in community governance (vote on how protocol changes)Stakers on Anchor stake anc token and earn 20 percent per year. THe catch is, anc token is very inflationary that means it has harder time holding its value compared with other cryptos. This is the case with most defi tokens but anc is a bit of exception.

Lenders deposit their cryptos into a borrowing and lending protocol. This makes it possible for individual lenders to withdaw their funds whenever they want. it is vey unlikely but all lenders can withdraw at the same time. Lenders on the anchor protocol deposit ust into the protocol. Lenders are synonymous with savers in this context. This means when u deposit your ust into the anchor protocol, what you are actually doing is lending your ust to borrowers

On the borrowing side, borrowers deposit a dollar amount of crypto that is worth more than a dollar amount of crypto they want to borrow. This is called `OVER COLLATERALIZATION`. It exist to ensure the protocol always has enough money to cover the cost of the crypto being borrowed. Borrowers on the anchor protocol deposit either Luna or eth to borrow amount of ust from lenders that is worth upto 80 percent of the dollar value of the crypto they deposited.

If borrowers deposit 1000 luna, they can borrow 800 dollars of ust.

Why would anyone take out this over-collateralization, the answer is `leverage`. Many traders will use their crypto assets collateral to borrow stable coins and use those stable coins to buy even more crypto when the market is rallying. A lots of people also use over collateralized crypto loans to pay their bills between paychecks without having to sell any crypto.

On the lending side, lenders are incentivized to deposit their idle coins and tokens in exchange for the interest that borrowers pay on their crypto loan. If a borrower borrows more than 80 percent of the dollar value of the their collateral in ust or if this threshold is met because of the interest they owe on any ust they borrowed the collateral they put up is liquidated. i.e sold. this again to ensure protocol has enough money to remain solvent.

## How Anchor produces 20 percent interest

Borrowers on the anchor must deposit staked luna or staked eth to borrow ust. on acnhor staked luna is `bonded luna` or `bluna` and staked eth is `bonded eth` or `beth`. bluna is created by depositing regular luna into a special smart contract on the anchor protocol that delegates the deposited luna to whitelisted i.e verified by validators on terra. this luna is locked for 21 days. Meanwhile, `beth` is created by the another crypto project, `lido finance project` which makes it possible to tokenize staked eth so it is tradeable on the ethereum blockchain. For context, any eth staked on the `beacon` chain is currently locked until ethereum transitions to proof of stake. `Lido` finance's staked eth or `steth` is locked in special smart contract on the ethereum blockchain which then mints corresponding amount of `beth` on the terra blockchain for use in the anchor protocol.

`beth` can be withdrawn and converted back to `st eth` at any time. Here is the secret source: Staking rewards from the `bluna` and `beth` deposited by borrowers as collateral on the anchor protocol are actually earned by the anchor protocol itself. this is in addition to the interest borrowers are paying on any ust they borrowed.

Recall staking rewards on terra are around 9 percent per year. on ethereum's beacon chain staking rewards are currently around 5 percent.

Any additional income put into anchor's yield reserve in ust which is used to payout additional interest to ust lenders when the anchor protocol is not generating enough income to maintain the anchor rate. A portion of the yield reserve is also used to buy anc to ensure that the token increases in value as adoption of the protocol increases at least in theory. this is important because anc issuance is how the anchor protocol incentivizes borrowing and borrowing is important because anhor protocol generates income from the `bluna` and `beth` deposited by borrowers as well as the interest being paid.
